- name: Install packages
  become: true
  community.general.pacman:
    name: '{{ pacman_install_packages }}'
    state: present
    reason: explicit
    reason_for: all
  register: pacman_install_result

- name: Show installed packages
  ansible.builtin.debug:
    var: pacman_result.packages
  when: pacman_install_result.packages is defined and (pacman_install_result.packages | length > 0)
